# 2장: 현실에서의 함수형 사고

토니라는 주인공이 피자가게에서 로봇으로 피자를 만들며 겪게되는 문제를 함수형 프로그래밍 사고로 해결한다.
이 과정을 통해 함수형 프로그래밍에 대한 대략적인 개념을 접해본다.

이렇게 나뉘게 된 근본적인(?) 이유이자 배경에는 토니의 가게가 잘 되어서 "확장"을 하게 된 것이 있다.


## 액션, 계산, 데이터로 나누기

피자 만드는 과정을 액션, 계산, 데이터 파트로 나눠 계산을 한다.

* 액션: 호출 횟수 또는 시점에 의존을 하는 것. 어떤 타임라인 안에서 일련의 동작으로 진행이 되어야 하는 것은 모두 액션이다. ex. 주문 받기, 반죽 만들기, 반죽 펴기, 소스 바르기 등
* 계산: 어떤 것을 결정하거나 계산하는 것. 다른 것에 영향을 주지 않기 때문에 *아무때나 언제든 사용되어도 됨* ex. 소스 2배로 만들기, 쇼핑 목록 결정 등
* 데이터: 이벤트를 기록한 것 ex. 고객 주문, 영수증, 조리법 등


## 계층형 설계 

* 코드 변경에 따른 비용을 줄이기 위해 *변화가능성*을 기반으로 코드를 나눔.
* 자주 바뀌는 것이 위로, 그리고 바뀌지 않는 것이 아래로.
* 계층형 설계는 보통 비즈니스, 도메인, 기술 계층으로 나뉨
* 이렇게 만들게 되면 재사용, 테스트, 유지보수에 쉬움



## 일급 추상

## 타임라인 다이어그램

## 타임라인 커팅
* 타임라인을 맞추지 않아서 분산 시스템을 적용하게 되었을 때 순서가 보장되지 않아서 예상과 다른 결과가 나올 수 있음
* 커팅(cutting) 이라는 기술을 써서 순서를 보장함. 
* 여러 타임라인이 동시에 진행될 때 순서를 맞추는 방법으로 고차 동작을 통해 구현함.
